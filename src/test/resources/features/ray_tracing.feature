# language: ru
Функция: Трассировка лучей (Ray Tracing)
  Как разработчик ray tracer'а
  Я хочу отслеживать пересечения лучей с объектами сцены
  Чтобы создавать фотореалистичные изображения

  Сценарий: Луч пересекает сферу
    Дано луч с началом (0, 0, 0) и направлением (0, 0, 1)
    И сфера с центром (0, 0, 5) и радиусом 1
    Когда проверяю пересечение луча со сферой
    Тогда луч пересекает сферу в точке (0, 0, 4)
    И нормаль в точке пересечения (0, 0, -1)

  Сценарий: Луч не пересекает сферу
    Дано луч с началом (0, 0, 0) и направлением (0, 0, 1)
    И сфера с центром (10, 10, 5) и радиусом 1
    Когда проверяю пересечение луча со сферой
    Тогда пересечений не найдено

  Сценарий: Луч пересекает плоскость
    Дано луч с началом (0, 1, 0) и направлением (0, -1, 0)
    И плоскость Y=0 с нормалью (0, 1, 0)
    Когда проверяю пересечение луча с плоскостью
    Тогда луч пересекает плоскость в точке (0, 0, 0)

  Сценарий: Диапазон пересечений
    Дано луч с началом (0, 0, 0) и направлением (0, 0, 1)
    И сфера с центром (0, 0, 5) и радиусом 1
    И диапазон расстояний от 1.0 до 10.0
    Когда проверяю пересечение в диапазоне
    Тогда пересечение найдено на расстоянии 4.0

  Сценарий: Пересечение вне диапазона
    Дано луч с началом (0, 0, 0) и направлением (0, 0, 1)
    И сфера с центром (0, 0, 5) и радиусом 1
    И диапазон расстояний от 7.0 до 10.0
    Когда проверяю пересечение в диапазоне
    Тогда пересечений не найдено

  Сценарий: Простая сцена с несколькими объектами
    Дано сцена содержит сферу в (0, 0, 5)
    И сцена содержит сферу в (2, 0, 6)
    И сцена содержит плоскость Y=-1
    Когда пускаю луч (0, 0, 0) в направлении (0, 0, 1)
    Тогда луч попадает в ближайшую сферу на расстоянии 4.0

  Структура сценария: Пересечения с разными сферами
    Дано луч с началом (0, 0, 0) и направлением (0, 0, 1)
    И сфера с центром (<cx>, <cy>, <cz>) и радиусом <r>
    Когда проверяю пересечение
    Тогда результат <результат>

    Примеры:
      | cx | cy | cz | r   | результат    |
      | 0  | 0  | 5  | 1.0 | пересекает   |
      | 10 | 0  | 5  | 1.0 | не пересекает|
      | 0  | 0  | 5  | 2.0 | пересекает   |
      | 0  | 0  | 2  | 0.5 | пересекает   |
